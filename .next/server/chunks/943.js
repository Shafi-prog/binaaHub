exports.id=943,exports.ids=[943],exports.modules={58:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=58,e.exports=t},798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(7413);function s({children:e}){return(0,o.jsx)("div",{children:e})}r(1120)},1047:(e,t,r)=>{"use strict";async function o(e=3){return{id:"dummy-user",email:"dummy@example.com"}}r.d(t,{s:()=>o})},2523:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},4493:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(687);function s({children:e,className:t="",...r}){return(0,o.jsx)("div",{className:`card ${t}`,...r,children:e})}r(3210)},6374:(e,t,r)=>{"use strict";r.d(t,{G6:()=>a,vr:()=>s});let o=(0,r(5745).createClientComponentClient)();async function s(e,t){try{let{data:{user:r}}=await o.auth.getUser();if(!r)throw Error("User not authenticated");let s={...t,updated_at:new Date().toISOString()};s.expected_completion_date&&(s.end_date=s.expected_completion_date,delete s.expected_completion_date),delete s.actual_completion_date,console.log("[updateProject] Update payload:",s);let{data:a,error:n}=await o.from("projects").update(s).eq("id",e).eq("user_id",r.id).select().single();if(n)throw console.error("[updateProject] Supabase error:",n),n;return{id:a.id,user_id:a.user_id,name:a.name,description:a.description||"",project_type:a.project_type,location:a.location,address:a.address||"",city:a.city||"",region:a.region||"",status:a.status,priority:a.priority,start_date:a.start_date,expected_completion_date:a.end_date,budget:a.budget||0,actual_cost:a.actual_cost||0,currency:a.currency||"SAR",progress_percentage:a.progress_percentage||0,is_active:a.is_active,created_at:a.created_at,updated_at:a.updated_at}}catch(e){throw console.error("Error updating project:",e),e}}async function a(e){try{console.log("\uD83D\uDD0D [getProjectById] Starting fetch for projectId:",e);let{data:{user:t}}=await o.auth.getUser();if(console.log("\uD83D\uDC64 [getProjectById] Auth user:",t?{id:t.id,email:t.email}:"null"),!t)throw console.error("❌ [getProjectById] User not authenticated"),Error("User not authenticated");console.log("\uD83D\uDD0D [getProjectById] Querying project with filters:",{projectId:e,userId:t.id});let{data:r,error:s}=await o.from("projects").select("id, name, user_id").eq("user_id",t.id);console.log("\uD83D\uDCCA [getProjectById] User has total projects:",r?.length||0),r&&r.length>0&&console.log("\uD83D\uDCCB [getProjectById] User's project IDs:",r.map(e=>({id:e.id,name:e.name})));let{data:a,error:n}=await o.from("projects").select(`
        id, user_id, name, description, project_type, location, 
        address, status, start_date, 
        budget, is_active, created_at, updated_at
        `).eq("id",e).eq("user_id",t.id).single();if(console.log("\uD83D\uDCCA [getProjectById] Raw query result:",{data:a,error:n}),n){if(console.error("❌ [getProjectById] Database error detected!"),console.error("Error object keys:",Object.keys(n||{})),console.error("Error message:",n?.message||"No message"),console.error("Error code:",n?.code||"No code"),console.error("Error details:",n?.details||"No details"),console.error("Error hint:",n?.hint||"No hint"),console.error("Raw error:",n),console.error("Stringified error:",JSON.stringify(n,null,2)),"PGRST116"===n.code)return console.log("❌ [getProjectById] No rows returned (PGRST116) - Project not found or access denied"),null;let r={timestamp:new Date().toISOString(),function:"getProjectById",projectId:e,userId:t?.id,message:n?.message||"Unknown error",code:n?.code||"Unknown code",details:n?.details||"No details available",hint:n?.hint||"No hint available",full_error:n,error_type:typeof n,error_constructor:n?.constructor?.name};throw console.error("❌ [getProjectById] DETAILED ERROR INFO:",r),n}console.log("✅ [getProjectById] Project found, transforming data...");let i={id:a.id,user_id:a.user_id,name:a.name,description:a.description||"",project_type:a.project_type,location:a.location,address:a.address||"",city:"",region:"",district:"",country:"",status:a.status,priority:"medium",start_date:a.start_date,expected_completion_date:void 0,actual_completion_date:void 0,budget:a.budget||0,actual_cost:0,currency:"SAR",progress_percentage:0,is_active:a.is_active,created_at:a.created_at,updated_at:a.updated_at,location_lat:void 0,location_lng:void 0,rooms_count:void 0,bathrooms_count:void 0,floors_count:void 0,plot_area:void 0,building_area:void 0,metadata:void 0,image_url:void 0};return console.log("✅ [getProjectById] Returning transformed project:",i),i}catch(e){throw console.error("❌ [getProjectById] UNEXPECTED ERROR CAUGHT!"),console.error("Error type:",typeof e),console.error("Error constructor:",e?.constructor?.name),console.error("Error keys:",Object.keys(e||{})),console.error("Error message:",e?.message||"No message available"),console.error("Error name:",e?.name||"No name available"),console.error("Error stack:",e?.stack||"No stack available"),console.error("Raw error object:",e),console.error("Stringified error:",JSON.stringify(e,null,2)),console.error("❌ [getProjectById] DETAILED CATCH ERROR:",{timestamp:new Date().toISOString(),function:"getProjectById_catch",error_info:{message:e?.message,name:e?.name,stack:e?.stack,type:typeof e,constructor:e?.constructor?.name,keys:Object.keys(e||{})},full_error:e}),e}}},6487:()=>{},6867:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},7990:()=>{},8335:()=>{},9519:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var o=r(687);function s({size:e="md"}){return(0,o.jsxs)("svg",{className:`animate-spin text-blue-500 ${"sm"===e?"w-4 h-4":"lg"===e?"w-10 h-10":"w-6 h-6"}`,fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})}r(3210)},9727:()=>{}};
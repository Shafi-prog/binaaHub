(()=>{var e={};e.id=331,e.ids=[331],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},51906:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=51906,e.exports=r},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87845:(e,r,s)=>{"use strict";s.r(r),s.d(r,{patchFetch:()=>f,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>x});var t={};s.r(t),s.d(t,{POST:()=>c});var i=s(96559),u=s(48088),o=s(37719),a=s(32190);let n=(0,s(39398).createClient)("https://lqhopwohuddhapkhhikf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxaG9wd29odWRkaGFwa2hoaWtmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY4OTI4MDYsImV4cCI6MjAzMjQ2ODgwNn0.vCxGDrVNvKA7OhwcYZLJp0mVwL_P5fJ8XDGfRp0MNio");async function c(e){try{let e="user@user.com",r="123456",{data:s,error:t}=await n.auth.signUp({email:e,password:r});if(t&&!t.message.includes("already registered"))return a.NextResponse.json({success:!1,error:`SignUp failed: ${t.message}`},{status:400});let{data:i,error:u}=await n.auth.signInWithPassword({email:e,password:r});if(u)return a.NextResponse.json({success:!1,error:`SignIn failed: ${u.message}`},{status:400});let o=i.user?.id;if(!o)return a.NextResponse.json({success:!1,error:"Failed to get user ID"},{status:400});let{error:c}=await n.from("users").upsert([{id:o,email:e,account_type:"user",name:"Test User",is_verified:!0,status:"active",updated_at:new Date().toISOString()}],{onConflict:"id"});if(c)return a.NextResponse.json({success:!1,error:`Failed to upsert user record: ${c.message}`},{status:500});return await n.auth.signOut(),a.NextResponse.json({success:!0,message:"User account fixed successfully",user:{id:o,email:e,account_type:"user"}})}catch(e){return a.NextResponse.json({success:!1,error:`Unexpected error: ${e}`},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:u.RouteKind.APP_ROUTE,page:"/api/fix-user-account/route",pathname:"/api/fix-user-account",filename:"route",bundlePath:"app/api/fix-user-account/route"},resolvedPagePath:"C:\\Users\\hp\\BinnaCodes\\binna\\src\\app\\api\\fix-user-account\\route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:d,workUnitAsyncStorage:x,serverHooks:l}=p;function f(){return(0,o.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:x})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[4243,580,9398],()=>s(87845));module.exports=t})();
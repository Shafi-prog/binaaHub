(()=>{var e={};e.id=1244,e.ids=[1244],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>c,serverHooks:()=>h,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(96559),a=r(48088),i=r(37719),u=r(34386),n=r(32190);async function p(e){let t=n.NextResponse.json({status:"checking"}),r=(0,u.createServerClient)("https://lqhopwohuddhapkhhikf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxaG9wd29odWRkaGFwa2hoaWtmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY4OTI4MDYsImV4cCI6MjAzMjQ2ODgwNn0.vCxGDrVNvKA7OhwcYZLJp0mVwL_P5fJ8XDGfRp0MNio",{cookies:{getAll:()=>e.cookies.getAll(),setAll(e){e.forEach(({name:e,value:r,options:s})=>{t.cookies.set(e,r,s)})}}});try{let{data:{session:e},error:s}=await r.auth.getSession();if(s)return n.NextResponse.json({authenticated:!1,error:s.message},{status:401});if(!e||!e.user)return n.NextResponse.json({authenticated:!1,error:"No session found"},{status:401});let{data:o,error:a}=await r.from("users").select("account_type, email").eq("email",e.user.email).single();if(a||!o)return n.NextResponse.json({authenticated:!1,error:"User data not found"},{status:404});let i=n.NextResponse.json({authenticated:!0,user:{email:e.user.email,account_type:o.account_type},redirectTo:"store"===o.account_type?"/store/dashboard":"/user/dashboard"});return t.cookies.getAll().forEach(e=>{i.cookies.set(e.name,e.value,{httpOnly:e.name.startsWith("sb-"),secure:!0,sameSite:"lax"})}),i}catch(e){return n.NextResponse.json({authenticated:!1,error:"Internal server error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/auth/refresh/route",pathname:"/api/auth/refresh",filename:"route",bundlePath:"app/api/auth/refresh/route"},resolvedPagePath:"C:\\Users\\hp\\BinnaCodes\\binna\\src\\app\\api\\auth\\refresh\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:h}=c;function x(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,580,9398,4386],()=>r(5439));module.exports=s})();
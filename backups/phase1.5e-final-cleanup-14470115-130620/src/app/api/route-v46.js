(()=>{var t={};t.id=6392,t.ids=[6392],t.modules={3295:t=>{"use strict";t.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17311:(t,e,r)=>{"use strict";r.r(e),r.d(e,{patchFetch:()=>h,routeModule:()=>p,serverHooks:()=>y,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var n={};r.r(n),r.d(n,{GET:()=>u,POST:()=>d});var a=r(96559),s=r(48088),o=r(37719),c=r(32190),i=r(30458);async function u(t){try{let{searchParams:e}=new URL(t.url),r=parseInt(e.get("limit")||"100"),n=parseInt(e.get("skip")||"0"),a=e.get("search")||"",s=e.get("category")||"",o=await (0,i.X8)(),u={};a&&(u.$or=[{name:{$regex:a,$options:"i"}},{sku:{$regex:a,$options:"i"}},{barcode:{$regex:a,$options:"i"}}]),s&&(u.category=s);let d=await o.getProducts(u,r,n);return c.NextResponse.json({success:!0,data:d})}catch(t){return c.NextResponse.json({success:!1,error:"Failed to fetch products"},{status:500})}}async function d(t){try{let e=await t.json(),r=await (0,i.X8)(),n={...e,id:(0,i.$C)("PROD-"),status:"active"},a=await r.createProduct(n);return c.NextResponse.json({success:!0,data:a})}catch(t){return c.NextResponse.json({success:!1,error:"Failed to create product"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/erp/products/route",pathname:"/api/erp/products",filename:"route",bundlePath:"app/api/erp/products/route"},resolvedPagePath:"C:\\Users\\hp\\BinnaCodes\\binna\\src\\app\\api\\erp\\products\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:y}=p;function h(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}},29294:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30458:(t,e,r)=>{"use strict";r.d(e,{$C:()=>o,N9:()=>u,X8:()=>s,XE:()=>c,mS:()=>i});class n{constructor(){this.isConnected=!1,this.config={connectionString:process.env.MONGODB_URI||"mongodb://localhost:27017",database:process.env.MONGODB_DATABASE||"erp_system",collections:{customers:"customers",products:"products",orders:"orders",invoices:"invoices",analytics:"analytics"}}}async connect(){try{return this.isConnected=!0,!0}catch(t){return!1}}async ensureConnection(){return!!this.isConnected||await this.connect()}async getCustomers(t=50,e=0){try{return await this.ensureConnection(),[{customerId:"CUST001",name:"Acme Corporation",email:"contact@acme.com",phone:"+1-555-0123",company:"Acme Corp",status:"active",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-02-10")},{customerId:"CUST002",name:"Tech Solutions Ltd",email:"info@techsolutions.com",phone:"+1-555-0456",company:"Tech Solutions",status:"active",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-02-08")}].slice(e,e+t)}catch(t){return[]}}async getCustomerById(t){try{return await this.ensureConnection(),(await this.getCustomers()).find(e=>e.customerId===t)||null}catch(t){return null}}async createCustomer(t){try{return await this.ensureConnection(),{...t,createdAt:new Date,updatedAt:new Date}}catch(t){return null}}async updateCustomer(t,e){try{await this.ensureConnection();let r=await this.getCustomerById(t);if(!r)return null;return{...r,...e,updatedAt:new Date}}catch(t){return null}}async getProducts(t=50,e=0){try{return await this.ensureConnection(),[{productId:"PROD001",sku:"WDG-001",name:"Premium Widget",description:"High-quality widget for professional use",category:"Widgets",unitPrice:29.99,costPrice:15,stockQuantity:150,minimumStock:25,unitOfMeasure:"piece",status:"active",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-02-05")},{productId:"PROD002",sku:"CMP-002",name:"Standard Component",description:"Reliable component for various applications",category:"Components",unitPrice:19.99,costPrice:8.5,stockQuantity:75,minimumStock:15,unitOfMeasure:"piece",status:"active",createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-02-03")}].slice(e,e+t)}catch(t){return[]}}async getProductById(t){try{return await this.ensureConnection(),(await this.getProducts()).find(e=>e.productId===t)||null}catch(t){return null}}async updateProductStock(t,e){try{return await this.ensureConnection(),!0}catch(t){return!1}}async getOrders(t=50,e=0){try{return await this.ensureConnection(),[{orderId:"ORD001",customerId:"CUST001",orderDate:new Date("2024-02-15"),status:"delivered",items:[{productId:"PROD001",quantity:2,unitPrice:29.99,total:59.98},{productId:"PROD002",quantity:1,unitPrice:19.99,total:19.99}],subtotal:79.97,taxAmount:6.4,totalAmount:86.37,createdAt:new Date("2024-02-15"),updatedAt:new Date("2024-02-20")}].slice(e,e+t)}catch(t){return[]}}async createOrder(t){try{return await this.ensureConnection(),{...t,createdAt:new Date,updatedAt:new Date}}catch(t){return null}}async getInvoices(t=50,e=0){try{return await this.ensureConnection(),[{invoiceId:"INV001",customerId:"CUST001",orderId:"ORD001",invoiceNumber:"INV-2024-001",date:new Date("2024-02-16"),dueDate:new Date("2024-03-16"),subtotal:79.97,taxAmount:6.4,totalAmount:86.37,status:"paid",items:[{productId:"PROD001",quantity:2,unitPrice:29.99,total:59.98},{productId:"PROD002",quantity:1,unitPrice:19.99,total:19.99}],createdAt:new Date("2024-02-16"),updatedAt:new Date("2024-02-18")}].slice(e,e+t)}catch(t){return[]}}async createInvoice(t){try{return await this.ensureConnection(),{...t,createdAt:new Date,updatedAt:new Date}}catch(t){return null}}async getAnalytics(){try{return await this.ensureConnection(),{totalCustomers:150,totalProducts:250,totalOrders:89,totalRevenue:125e3,averageOrderValue:1404.49,topProducts:await this.getTopSellingProducts(),recentOrders:await this.getRecentOrders()}}catch(t){return null}}async getTopSellingProducts(){return[{productId:"PROD001",name:"Premium Widget",totalSold:450},{productId:"PROD002",name:"Standard Component",totalSold:380}]}async getRecentOrders(){return(await this.getOrders(10)).sort((t,e)=>e.createdAt.getTime()-t.createdAt.getTime())}async disconnect(){try{this.isConnected=!1}catch(t){}}async ping(){try{return await this.ensureConnection(),!0}catch(t){return!1}}}let a=new n,s=()=>a,o=()=>"id_"+Math.random().toString(36).substr(2,9),c=()=>"ORD"+Date.now().toString().slice(-6),i=()=>"INV"+Date.now().toString().slice(-6),u=(t,e=.08)=>{let r=t*e;return{subtotal:t,taxAmount:r,total:t+r}}},44870:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var e=require("../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),n=e.X(0,[4243,580],()=>r(17311));module.exports=n})();